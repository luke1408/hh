<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<title>Getting Started: Serving Web Content</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link rel="stylesheet" th:href="@{css/bootstrap.min.css}" />
<link rel="stylesheet" th:href="@{css/main.css}" />
<link rel="stylesheet" th:href="@{css/font-awesome.min.css}" />
<script th:src="@{js/jquery-3.2.1.min.js}"></script>
<script th:src="@{js/bootstrap.min.js}"></script>
<script th:src="@{js/number-spinner.js}"></script>

</head>
<body>
	<div class="logo container-fluid row justify-content-between">
		<h1>Harry's Hofladen</h1>
		<div class="col-3" style="padding-top: 15px">
			<span>Servus, </span> <span th:text="${username}"></span> <span>!</span>
			<span></span>
			<form action="logout" method="post" style="display: inline;">
				<input type="hidden" th:name="${_csrf.parameterName}"
					th:value="${_csrf.token}" />
				<button type="submit" class="btn btn-sm">Logout</button>
			</form>
		</div>
	</div>
	<div class="container">
		<div class="row">
			<th:block th:each="product : ${products}">
				<div class="col-sm-6 col-md-4 col-lg-3 ">
					<div class="shoptile">
						<img th:src="${product.image}" style="width: 100%" />
						<div style="margin: 5px">
							<h4 style="height: 3rem" th:text="${product.name}" />
							<div style="font-size: 0.8rem; height: 1.6rem"
								th:text="${product.description}"></div>
							<div style="margin-bottom: 15px">
								<span style="font-size: 1.5rem; font-weight: 600;"> <span
									th:text="${#numbers.formatDecimal(product.price, 0, 'COMMA', 2, 'POINT')}">
								</span> <span>€</span>
								</span> <span style="font-size: 0.8rem;"> <span
									th:text="${product.amount}"></span> <span
									th:text="${product.unit}"></span> <span> übrig</span>
								</span>
							</div>
							<form action="/shop/order" method="post" class="edgy">
								<div class="input-group number-spinner">
									<span class="input-group-btn data-dwn">
										<button class="btn btn-default btn-info" data-dir="dwn" type="button">
											<i class="fa fa-minus" aria-hidden="true"></i>
										</button>
									</span> <input type="text" class="form-control text-center" name="amount" value="1"
										min="1" max="40" pattern="\d{1,3}"/> <span class="input-group-btn data-up">
										<button class="btn btn-default btn-info" data-dir="up" type="button">
											<i class="fa fa-plus" aria-hidden="true"></i>
										</button>
									</span>
								</div>

								<input type="hidden" name="product" th:value="${product.id}"></input>
								<input type="hidden" th:name="${_csrf.parameterName}"
									th:value="${_csrf.token}"></input>
								<button class="btn btn-primary fullwidth" style="border-radius: 0px" type="submit" >Bestellen</button>
							</form>
						</div>
					</div>
				</div>
			</th:block>
		</div>
	</div>
</body>
</html>